# CV-011: Распознавание QR-кодов

![Демонстрация работы приложения](assets/demo-qr-recognition.gif)

## Описание
Проект по распознаванию QR-кодов с использованием OpenCV и Flask. Включает веб-интерфейс для загрузки изображений и отображения результатов распознавания.

## Особенности
- Веб-интерфейс для загрузки изображений с QR-кодами
- Отображение распознанных данных и визуализация результатов
- Возможность скачивания обработанного изображения
- Прогресс-бар при обработке
- Обработка ошибок с подробными сообщениями
- Комплексные тесты для веб-интерфейса

## Требования
- Python 3.7+
- Flask
- OpenCV (cv2)
- NumPy

Установка зависимостей:
```bash
pip install -r requirements.txt
```

## Запуск
1. Запустите веб-сервер:
```bash
python qr_web_app.py
```

2. Откройте в браузере:
```
http://localhost:5000
```

## Структура проекта
```
CV-011-QR-code-recognition/
├── qr_web_app.py            # Основное веб-приложение
├── templates/               # HTML шаблоны
│   └── index.html           # Главная страница
├── static/                  # Статические файлы
├── src/                     # Исходный код
│   ├── qr_detector.py       # Детектор QR-кодов
│   └── simple_qr_app.py     # Консольное приложение
├── tests/                   # Тесты
│   ├── unit/                # Модульные тесты
│   │   ├── test_qr_detector.py
│   │   └── test_web_app.py
│   └── integration/         # Интеграционные тесты
│       ├── test_qr_detection.py
│       └── test_web_app.py
├── result/                  # Результаты работы
├── requirements.txt         # Зависимости
└── README.md                # Документация
```

## Тестирование

Запуск тестов:

1. Запуск unit-тестов:
```bash
python -m pytest tests/unit/ -v
```

2. Запуск интеграционных тестов:
```bash
python -m pytest tests/integration/ -v
```

3. Запуск всех тестов:
```bash
python -m pytest tests/ -v
```

Примечание: Unit-тесты используют полное мокирование зависимостей (cv2.imread и QR-детектор), в то время как интеграционные тесты работают с реальными изображениями. Большинство интеграционных тестов помечены как @pytest.mark.skip, так как требуют запущенного сервера. Unit-тесты проверяют логику приложения без необходимости запуска сервера.

## Документация задачи

### Цель задачи
Создать веб-интерфейс для распознавания QR-кодов, аналогичный существующему проекту CV-010_face_detection, с возможностью скачивания результатов, индикацией ошибок и прогресса выполнения.

### Выполненные действия
1. Проанализирован проект CV-010_face_detection для понимания структуры веб-интерфейса
2. Созданы необходимые директории templates и static
3. Разработан HTML шаблон index.html с:
   - Интерфейсом загрузки изображений
   - Прогресс-баром обработки
   - Отображением результатов
   - Кнопкой скачивания изображения
   - Обработкой ошибок
4. Создано веб-приложение qr_web_app.py с использованием Flask
5. Реализована интеграция с существующим детектором QR-кодов
6. Добавлено логгирование для отслеживания выполнения процесса
7. Разработаны комплексные тесты для веб-интерфейса
8. Обновлена документация проекта

### Особенности реализации
- Использован существующий QRDetector из src/qr_detector.py
- Реализована визуализация распознанных QR-кодов с рамками
- Добавлена анимация прогресс-бара для улучшения пользовательского опыта
- Реализована обработка различных сценариев ошибок
- Добавлены мок-тесты для проверки логики приложения
- Обеспечена совместимость с существующей структурой проекта

### Дальнейшие улучшения
- Добавить поддержку распознавания нескольких QR-кодов на одном изображении
- Реализовать историю последних распознанных кодов
- Добавить возможность экспорта данных в различные форматы (CSV, JSON)
- Улучшить мобильную адаптацию интерфейса
- Добавить поддержку работы с камерой через веб-интерфейс
- Настроен CI/CD pipeline для автоматического запуска unit-тестов и интеграционных тестов при push/pull request в основные ветки

## Лицензия
MIT License